{"_type":"export","__export_format":4,"__export_date":"2023-04-05T00:20:19.751Z","__export_source":"insomnia.desktop.app:v2023.1.0","resources":[{"_id":"req_01ce6ac5fe844517b1001d8f6671a34b","parentId":"fld_27cefca69c7f45c1930e74785127351c","modified":1680653941808,"created":1680621529148,"url":"{{base_url}}billings/batch","name":"Billings Batch","description":"# Billings\n\nEndpoint responsável pelo recebimento de um arquivo do tipo `CSV` conforme estrutura abaixo informado no teste técnico para execução.\n\n```text\nname,governmentId,email,debtAmount,debtDueDate,debtId\nJohn Doe,11111111111,johndoe@kanastra.com.br,1000000.00,2022-10-12,8291 \n```\n\nEndpoint vai processar CSV e registrar no sistema cobrança de cada cliente. Basta enviar CSV via `form-data` com nome de `file` que será processado.\n\n```response:200\n// Em caso de sucesso você irá receber o retorno de uma lista com as cobranças cadastradas\n{\n\t\"success\": true,\n\t\"data\": [\n\t\t{\n\t\t\t\"name\": \"John Doe\",\n\t\t\t\"debtAmount\": 1000000,\n\t\t\t\"debtId\": 8291\n\t\t}\n\t],\n\t\"message\": \"Billing registred with success!\"\n}\n```\n\n```response:400\n// Caso de payload incompleto\n{\n\t\"success\": false,\n\t\"message\": \"CSV not found\"\n}\n```\n\n\n```response:500\n// Em caso de erro ao inserir no banco de dados.\n{\n\t\"success\": false,\n\t\"message\": \"Unable to add billings\"\n}\n```","method":"POST","body":{"mimeType":"multipart/form-data","params":[{"name":"files","value":"","id":"pair_8b93a2c34b2946e383d2a9d04715ef3b","type":"file","fileName":"/Users/waldrey/Downloads/billings-kanastra.csv","disabled":true}]},"parameters":[],"headers":[{"name":"Content-Type","value":"multipart/form-data"}],"authentication":{},"metaSortKey":-1680621529148,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_27cefca69c7f45c1930e74785127351c","parentId":"wrk_94d48632a0644a1fa64fee90a21e7105","modified":1680618113103,"created":1680618113103,"name":"Billing","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1680618113103,"_type":"request_group"},{"_id":"wrk_94d48632a0644a1fa64fee90a21e7105","parentId":null,"modified":1680618090044,"created":1680618090044,"name":"Kanastra","description":"","scope":"collection","_type":"workspace"},{"_id":"req_4dcc4dd28d664cd1bcfde3c9fd7918b1","parentId":"fld_27cefca69c7f45c1930e74785127351c","modified":1680654001053,"created":1680618116031,"url":"{{base_url}}billings/webhook","name":"Webhook","description":"# Webhook Bank\n\nEndpoint responsável pelo recebimento de uma notificação bancária sobre pagamento de uma dívida existente em nosso sistema\n\n```json\n{\n\t\"debtId\": \"8291\",\n\t\"paidAt\": \"2022-06-09 10:00:00\",\n\t\"paidAmount\": 100000.00,\n\t\"paidBy\": \"John Doe\"\n}\n```\n\nCaso exista uma cobrança em aberto no sistema com `debtId` vai ser executada a confirmação do pagamento bancária da mesma.\n\n\n```response:200\n// Em caso de sucesso você irá receber o retorno de uma lista com as cobranças cadastradas\n{\n\t\"success\": true,\n\t\"data\": {\n\t\t\"debtId\": \"8291\",\n\t\t\"paidAt\": \"2022-06-09 10:00:00\",\n\t\t\"paidAmount\": 100000,\n\t\t\"paidBy\": \"John Doe\"\n\t},\n\t\"message\": \"Billing updated with success!\"\n}\n```\n\n```response:404\n// Caso de debtId não encontrada\n{\n\t\"success\": false,\n\t\"message\": \"Billing not found\"\n}\n```","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"debtId\": \"8291\",\n\t\"paidAt\": \"2022-06-09 10:00:00\",\n\t\"paidAmount\": 100000.00,\n\t\"paidBy\": \"John Doe\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"}],"authentication":{},"metaSortKey":-1680618116031,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"env_ce4bffb7580e2694de857c58947d584fdd380c7a","parentId":"wrk_94d48632a0644a1fa64fee90a21e7105","modified":1680618090050,"created":1680618090050,"name":"Base Environment","data":{},"dataPropertyOrder":null,"color":null,"isPrivate":false,"metaSortKey":1680618090050,"_type":"environment"},{"_id":"jar_ce4bffb7580e2694de857c58947d584fdd380c7a","parentId":"wrk_94d48632a0644a1fa64fee90a21e7105","modified":1680618090053,"created":1680618090053,"name":"Default Jar","cookies":[],"_type":"cookie_jar"},{"_id":"spc_38da69157662423fb0aed4420d48fcec","parentId":"wrk_94d48632a0644a1fa64fee90a21e7105","modified":1680618090045,"created":1680618090045,"fileName":"Kanastra","contents":"","contentType":"yaml","_type":"api_spec"},{"_id":"env_fe4118e689d541cc8390712ad599ae70","parentId":"env_ce4bffb7580e2694de857c58947d584fdd380c7a","modified":1680652722828,"created":1680618125874,"name":"development","data":{"base_url":"http://localhost:8888/api/v1/"},"dataPropertyOrder":{"&":["base_url"]},"color":"#0d3428","isPrivate":false,"metaSortKey":1680618125874,"_type":"environment"}]}